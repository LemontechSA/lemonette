/*! lemontend 2014-10-21 */
function setCookie(a,b,c,d,e,f){var g=a+"="+escape(b)+(c?"; expires="+c.toGMTString():"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(f?"; secure":"");document.cookie=g}function getCookie(a){var b=document.cookie,c=a+"=",d=b.indexOf("; "+c);if(-1==d){if(d=b.indexOf(c),0!=d)return null}else d+=2;var e=document.cookie.indexOf(";",d);return-1==e&&(e=b.length),unescape(b.substring(d+c.length,e))}function GoogieSpellMultiple(a,b){this.img_dir=a,this.server_url=b,this.dependent=!1,this.g_elms=[],this.spell_container=null,this.extra_menu_items=[],this.use_close_btn=!1;var c=function(a){for(var b=0;b<this.g_elms.length;b++)for(var c=this.g_elms[b],d=0;d<c.error_links.length;d++){var e=c.error_links[d];e.innerHTML==a.old_value&&c.correctError(e.g_id,e,a)}},d=function(a){return a.is_corrected?!0:!1},e=function(a,b){return"true"==b.results[a.g_id].attrs.duplicate?!1:!0};this.appendNewMenuItem("Change all",AJS.$b(c,this),d),this.appendNewMenuItem("Ignore",AJS.$b(this.ignore,this),null),this.appendNewMenuItem("Ignore all",AJS.$b(this.ignoreAll,this),e),this.state="created",this.no_more_errors_callback=null,this.elm_evaluator=function(){return!0},this.getValue=function(a){return a.value},this.setValue=function(a,b){a.value=b},this.cnt_no_errors=null,this.cnt_ta_spellchecked=0,this.cnt_done_checking=null}function GoogieSpell(a){this.options=this.defaultOptions(a),this.getDefaultLang(),this.lang_to_word=this.options.org_lang_to_word,this.langlist_codes=AJS.keys(this.lang_to_word),this.ta_scroll_top=0,this.el_scroll_top=0,this.custom_ajax_error=null,this.custom_no_spelling_error=null,this.custom_menu_builder=[],this.custom_item_evaulator=null,this.extra_menu_items=[],this.custom_spellcheck_starter=null,this.main_controller=!1,this.lang_state_observer=null,this.show_menu_observer=null,this.all_errors_fixed_observer=null,this.use_focus=!1,this.focus_link_t=null,this.focus_link_b=null,this.cnt_errors=0,this.cnt_errors_fixed=0;var b=function(a){var b=AJS.getEventElm(a);"1"!=b.googie_action_btn&&this.isLangWindowShown()&&this.hideLangWindow(),"1"!=b.googie_action_btn&&this.isErrorWindowShown()&&this.hideErrorWindow()};AJS.AEV(document,"click",AJS.$b(b,this))}if(!AJS){var AJS={BASE_URL:"",drag_obj:null,drag_elm:null,_drop_zones:[],_drag_zones:[],_cur_pos:null,ajaxErrorHandler:null,getQueryArgument:function(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return null},isIe:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&-1==navigator.userAgent.toLowerCase().indexOf("opera")},isNetscape7:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("netscape")&&-1!=navigator.userAgent.toLowerCase().indexOf("7.")},isSafari:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("khtml")},isOpera:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera")},isMozilla:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("gecko")&&navigator.productSub>=20030210},isMac:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("macintosh")},createArray:function(a){return AJS.isArray(a)&&!AJS.isString(a)?a:a?[a]:[]},forceArray:function(a){var b=[];return AJS.map(a,function(a){b.push(a)}),b},join:function(a,b){try{return b.join(a)}catch(c){var d=b[0]||"";return AJS.map(b,function(b){d+=a+b},1),d+""}},isIn:function(a,b){var c=AJS.getIndex(a,b);return-1!=c?!0:!1},getIndex:function(a,b,c){for(var d=0;d<b.length;d++)if(c&&c(b[d])||a==b[d])return d;return-1},getFirst:function(a){return a.length>0?a[0]:null},getLast:function(a){return a.length>0?a[a.length-1]:null},update:function(a,b){for(var c in b)a[c]=b[c];return a},flattenList:function(a){var b=[],c=function(a,b){AJS.map(b,function(b){null==b||(AJS.isArray(b)?c(a,b):a.push(b))})};return c(b,a),b},map:function(a,b,c,d){var e=0,f=a.length;for(c&&(e=c),d&&(f=d),e;f>e;e++){var g=b.apply(null,[a[e],e]);if(void 0!=g)return g}},rmap:function(a,b){var c=a.length-1,d=0;for(c;c>=d;c--){var e=b.apply(null,[a[c],c]);if(void 0!=e)return e}},filter:function(a,b,c,d){var e=[];return AJS.map(a,function(a){b(a)&&e.push(a)},c,d),e},partial:function(a){var b=AJS.$FA(arguments);return b.shift(),function(){return b=b.concat(AJS.$FA(arguments)),a.apply(window,b)}},getElement:function(a){return AJS.isString(a)||AJS.isNumber(a)?document.getElementById(a):a},getElements:function(){for(var a=AJS.forceArray(arguments),b=new Array,c=0;c<a.length;c++){var d=AJS.getElement(a[c]);b.push(d)}return b},getElementsByTagAndClassName:function(a,b,c){var d=[];AJS.isDefined(c)||(c=document),AJS.isDefined(a)||(a="*");var e=c.getElementsByTagName(a),f=e.length,g=new RegExp("(^|\\s)"+b+"(\\s|$)");for(i=0,j=0;f>i;i++)(g.test(e[i].className)||null==b)&&(d[j]=e[i],j++);return d},_nodeWalk:function(a,b,c,d){var e,f=d(a);for(e=b&&c?function(a){return AJS.nodeName(a)==b&&AJS.hasClass(a,c)}:b?function(a){return AJS.nodeName(a)==b}:function(a){return AJS.hasClass(a,c)};f;){if(e(f))return f;f=d(f)}return null},getParentBytc:function(a,b,c){return AJS._nodeWalk(a,b,c,function(a){return a.parentNode})},getPreviousSiblingBytc:function(a,b,c){return AJS._nodeWalk(a,b,c,function(a){return a.previousSibling})},getNextSiblingBytc:function(a,b,c){return AJS._nodeWalk(a,b,c,function(a){return a.nextSibling})},getFormElement:function(a,b){a=AJS.$(a);var c=null;return AJS.map(a.elements,function(a){a.name&&a.name==b&&(c=a)}),c},formContents:function(a){var a=AJS.$(a),b={},c=function(a){AJS.map(a,function(a){a.name&&(b[a.name]=a.value||"")})};return c(AJS.$bytc("input",null,a)),c(AJS.$bytc("textarea",null,a)),b},getBody:function(){return AJS.$bytc("body")[0]},nodeName:function(a){return a.nodeName.toLowerCase()},hasParent:function(a,b,c){return a==b?!0:0==c?!1:AJS.hasParent(a.parentNode,b,c-1)},isElementHidden:function(a){return"none"==a.style.display||"hidden"==a.style.visibility},documentInsert:function(a){"string"==typeof a&&(a=AJS.HTML2DOM(a)),document.write('<span id="dummy_holder"></span>'),AJS.swapDOM(AJS.$("dummy_holder"),a)},cloner:function(a){return function(){return a.cloneNode(!0)}},appendToTop:function(a){var b=AJS.forceArray(arguments).slice(1);if(b.length>=1){var c=a.firstChild;if(c)for(;;){var d=b.shift();if(!d)break;AJS.insertBefore(d,c)}else AJS.ACN.apply(null,arguments)}return a},appendChildNodes:function(a){return arguments.length>=2&&AJS.map(arguments,function(b){AJS.isString(b)&&(b=AJS.TN(b)),AJS.isDefined(b)&&a.appendChild(b)},1),a},replaceChildNodes:function(a){for(var b;b=a.firstChild;)a.removeChild(b);return arguments.length<2?a:AJS.appendChildNodes.apply(null,arguments)},insertAfter:function(a,b){return b.parentNode.insertBefore(a,b.nextSibling),a},insertBefore:function(a,b){return b.parentNode.insertBefore(a,b),a},showElement:function(){var a=AJS.forceArray(arguments);AJS.map(a,function(a){a.style.display=""})},hideElement:function(){var a=AJS.forceArray(arguments);AJS.map(a,function(a){a.style.display="none"})},swapDOM:function(a,b){a=AJS.getElement(a);var c=a.parentNode;return b?(b=AJS.getElement(b),c.replaceChild(b,a)):c.removeChild(a),b},removeElement:function(){var a=AJS.forceArray(arguments);AJS.map(a,function(a){AJS.swapDOM(a,null)})},createDOM:function(a,b){var c,d=0;if(elm=document.createElement(a),AJS.isDict(b[d])){for(k in b[0])c=b[0][k],"style"==k?elm.style.cssText=c:"class"==k||"className"==k?elm.className=c:elm.setAttribute(k,c);d++}return null==b[0]&&(d=1),AJS.map(b,function(a){a&&((AJS.isString(a)||AJS.isNumber(a))&&(a=AJS.TN(a)),elm.appendChild(a))},d),elm},_createDomShortcuts:function(){var a=["ul","li","td","tr","th","i","tbody","table","input","span","b","a","div","img","button","h1","h2","h3","br","textarea","form","p","select","option","optgroup","iframe","script","center","dl","dt","dd","small","pre"],b=function(a){AJS[a.toUpperCase()]=function(){return AJS.createDOM.apply(null,[a,arguments])}};AJS.map(a,b),AJS.TN=function(a){return document.createTextNode(a)}},getCssDim:function(a){return AJS.isString(a)?a:a+"px"},getCssProperty:function(a,b){a=AJS.$(a);var c;return a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c},setStyle:function(){var a=AJS.forceArray(arguments),b=a.pop(),c=a.pop();AJS.map(a,function(a){a.style[c]=AJS.getCssDim(b)})},setWidth:function(){var a=AJS.forceArray(arguments);a.splice(a.length-1,0,"width"),AJS.setStyle.apply(null,a)},setHeight:function(){var a=AJS.forceArray(arguments);a.splice(a.length-1,0,"height"),AJS.setStyle.apply(null,a)},setLeft:function(){var a=AJS.forceArray(arguments);a.splice(a.length-1,0,"left"),AJS.setStyle.apply(null,a)},setTop:function(){var a=AJS.forceArray(arguments);a.splice(a.length-1,0,"top"),AJS.setStyle.apply(null,a)},setClass:function(){var a=AJS.forceArray(arguments),b=a.pop();AJS.map(a,function(a){a.className=b})},addClass:function(){var a=AJS.forceArray(arguments),b=a.pop(),c=function(a){new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)||(a.className+=(a.className?" ":"")+b)};AJS.map(a,function(a){c(a)})},hasClass:function(a,b){return a.className?a.className==b||-1!=a.className.search(new RegExp(" "+b+"|^"+b)):!1},removeClass:function(){var a=AJS.forceArray(arguments),b=a.pop(),c=function(a){a.className=a.className.replace(new RegExp("\\s?"+b,"g"),"")};AJS.map(a,function(a){c(a)})},setHTML:function(a,b){return a.innerHTML=b,a},RND:function(a,b,c){c=c||window;var d=function(a,d){d=d.split("|");for(var e=b[d[0]],f=1;f<d.length;f++)e=c[d[f]](e);return""==e?"":((0==e||-1==e)&&(e+=""),e||a)};return a.replace(/%\(([A-Za-z0-9_|.]*)\)/g,d)},HTML2DOM:function(a,b){var c=AJS.DIV();return c.innerHTML=a,b?c.childNodes[0]:c},preloadImages:function(){AJS.AEV(window,"load",AJS.$p(function(a){AJS.map(a,function(a){var b=new Image;b.src=a})},arguments))},setOpacity:function(a,b){a.style.opacity=b,a.style.filter="alpha(opacity="+100*b+")"},resetOpacity:function(a){a.style.opacity=1,a.style.filter=""},getXMLHttpRequest:function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.4.0")},function(){throw"Browser does not support XMLHttpRequest"}],b=0;b<a.length;b++){var c=a[b];try{return c()}catch(d){}}},getRequest:function(a,b,c,d){c||(c="POST"),d||(d="application/x-www-form-urlencoded");var e=AJS.getXMLHttpRequest();return-1==a.indexOf("http://")&&""!=AJS.BASE_URL&&(AJS.BASE_URL.lastIndexOf("/")!=AJS.BASE_URL.length-1&&(AJS.BASE_URL+="/"),a=AJS.BASE_URL+a),e.open(c,a,!0),"POST"==c&&e.setRequestHeader("Content-type",d),AJS._sendXMLHttpRequest(e)},_sendXMLHttpRequest:function(a){var b=new AJSDeferred(a),c=function(){if(4==a.readyState){var c="";try{c=a.status}catch(d){}200==c||304==c||null==a.responseText?b.callback():0==b.errbacks.length?AJS.ajaxErrorHandler&&AJS.ajaxErrorHandler(a.responseText,a):b.errback()}};return a.onreadystatechange=c,b},_reprString:function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},_reprDate:function(a){function b(a){return 10>a&&(a="0"+a),a}var c=a.getFullYear(),d=a.getDate(),e=a.getMonth()+1,f=a.getHours(),g=a.getMinutes();24==f&&(f="00");var h=b(f)+":"+b(g);return'"'+c+"-"+e+"-"+d+"T"+h+'"'},serializeJSON:function(a){var b=typeof a;if("undefined"==b)return"undefined";if("number"==b||"boolean"==b)return a+"";if(null===a)return"null";if("string"==b)return AJS._reprString(a);if("object"==b&&a.getFullYear)return AJS._reprDate(a);var c=arguments.callee;if("function"!=b&&"number"==typeof a.length){for(var d=[],e=0;e<a.length;e++){var f=c(a[e]);"string"!=typeof f&&(f="undefined"),d.push(f)}return"["+d.join(",")+"]"}if("function"==b)return null;d=[];for(var g in a){var h;if("number"==typeof g)h='"'+g+'"';else{if("string"!=typeof g)continue;h=AJS._reprString(g)}f=c(a[g]),"string"==typeof f&&d.push(h+":"+f)}return"{"+d.join(",")+"}"},loadJSONDoc:function(a){var b=AJS.getRequest(a),c=function(a,c){var d=c.responseText;return"Error"!=d?AJS.evalTxt(d):void b.errback(c)};return b.addCallback(c),b},evalTxt:function(txt){try{return eval("("+txt+")")}catch(e){return eval(txt)}},evalScriptTags:function(html){var script_data=html.match(/<script.*?>((\n|\r|.)*?)<\/script>/g);if(null!=script_data)for(var i=0;i<script_data.length;i++){var script_only=script_data[i].replace(/<script.*?>/g,"");script_only=script_only.replace(/<\/script>/g,""),eval(script_only)}},queryArguments:function(a){var b=[];for(k in a)b.push(k+"="+AJS.urlencode(a[k]));return b.join("&")},getMousePos:function(a){var b=0,c=0;if(!a)var a=window.event;return a.pageX||a.pageY?(b=a.pageX,c=a.pageY):(a.clientX||a.clientY)&&(b=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,c=a.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:b,y:c}},getScrollTop:function(){var a;return document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:document.body&&(a=document.body.scrollTop),a},absolutePosition:function(a){var b={x:a.offsetLeft,y:a.offsetTop};if(a.offsetParent)for(var c=a.offsetParent;c;)b.x+=c.offsetLeft,b.y+=c.offsetTop,c=c.offsetParent;return AJS.isSafari()&&"absolute"==a.style.position&&(b.x-=document.body.offsetLeft,b.y-=document.body.offsetTop),b},getWindowSize:function(a){a=a||document;var b,c;return self.innerHeight?(b=self.innerWidth,c=self.innerHeight):a.documentElement&&a.documentElement.clientHeight?(b=a.documentElement.clientWidth,c=a.documentElement.clientHeight):a.body&&(b=a.body.clientWidth,c=a.body.clientHeight),{w:b,h:c}},isOverlapping:function(a,b){var c=AJS.absolutePosition(a),d=AJS.absolutePosition(b),e=c.y,f=c.x,g=f+a.offsetWidth,h=e+a.offsetHeight,i=d.y,j=d.x,k=j+b.offsetWidth,l=i+b.offsetHeight,m=function(a){return a>0?"+":0>a?"-":0};return m(e-l)!=m(h-i)&&m(f-k)!=m(g-j)?!0:!1},getEventElm:function(a){if(a&&!a.type&&!a.keyCode)return a;var b;if(!a)var a=window.event;return a.target?b=a.target:a.srcElement&&(b=a.srcElement),3==b.nodeType&&(b=b.parentNode),b},_getRealScope:function(a,b){b=AJS.$A(b);var c=a._cscope||window;return function(){var d=AJS.$FA(arguments).concat(b);return a.apply(c,d)}},_unloadListeners:function(){AJS.listeners&&AJS.map(AJS.listeners,function(a,b,c){AJS.REV(a,b,c)}),AJS.listeners=[]},setEventKey:function(a){switch(a.key=a.keyCode?a.keyCode:a.charCode,window.event?(a.ctrl=window.event.ctrlKey,a.shift=window.event.shiftKey):(a.ctrl=a.ctrlKey,a.shift=a.shiftKey),a.key){case 63232:a.key=38;break;case 63233:a.key=40;break;case 63235:a.key=39;break;case 63234:a.key=37}},addEventListener:function(a,b,c,d,e){e||(e=!1);var f=AJS.$A(a);AJS.map(f,function(f){if(d&&(c=AJS._listenOnce(f,b,c)),AJS.isIn(b,["submit","load","scroll","resize"])){var g=a["on"+b];return void(a["on"+b]=function(){return g?(c(arguments),g(arguments)):c(arguments)})}if(AJS.isIn(b,["keypress","keydown","keyup","click"])){var h=c;c=function(a){return AJS.setEventKey(a),h.apply(null,arguments)}}f.attachEvent?f.attachEvent("on"+b,c):f.addEventListener&&f.addEventListener(b,c,e),AJS.listeners=AJS.$A(AJS.listeners),AJS.listeners.push([f,b,c])})},removeEventListener:function(a,b,c,d){d||(d=!1),a.removeEventListener?(a.removeEventListener(b,c,d),AJS.isOpera()&&a.removeEventListener(b,c,!d)):a.detachEvent&&a.detachEvent("on"+b,c)},bind:function(a,b,c){return a._cscope=b,AJS._getRealScope(a,c)},bindMethods:function(a){for(var b in a){var c=a[b];"function"==typeof c&&(a[b]=AJS.$b(c,a))}},_listenOnce:function(a,b,c){var d=function(){AJS.removeEventListener(a,b,d),c(arguments)};return d},callLater:function(a,b){var c=function(){a()};window.setTimeout(c,b)},preventDefault:function(a){AJS.isIe()?window.event.returnValue=!1:a.preventDefault()},dragAble:function(a,b,c){c||(c={}),AJS.isDefined(c.move_x)||(c.move_x=!0),AJS.isDefined(c.move_y)||(c.move_y=!0),AJS.isDefined(c.moveable)||(c.moveable=!1),AJS.isDefined(c.hide_on_move)||(c.hide_on_move=!0),AJS.isDefined(c.on_mouse_up)||(c.on_mouse_up=null),AJS.isDefined(c.cursor)||(c.cursor="move"),AJS.isDefined(c.max_move)||(c.max_move={top:null,left:null}),a=AJS.$(a),b||(b=a),b=AJS.$(b);b.style.cursor;b.style.cursor=c.cursor,a.style.position="relative",AJS.addClass(b,"_ajs_handler"),b._args=c,b._elm=a,AJS.AEV(b,"mousedown",AJS._dragStart)},_dragStart:function(a){var b=AJS.getEventElm(a);AJS.hasClass(b,"_ajs_handler")||(b=AJS.getParentBytc(b,null,"_ajs_handler")),b&&AJS._dragInit(a,b._elm,b._args)},dropZone:function(a,b){a=AJS.$(a);var c={elm:a};AJS.update(c,b),AJS._drop_zones.push(c)},removeDragAble:function(a){AJS.REV(a,"mousedown",AJS._dragStart),a.style.cursor=""},removeDropZone:function(a){var b=AJS.getIndex(a,AJS._drop_zones,function(b){return b.elm==a?!0:void 0});-1!=b&&AJS._drop_zones.splice(b,1)},_dragInit:function(a,b,c){AJS.drag_obj=new Object,AJS.drag_obj.args=c,AJS.drag_obj.click_elm=b,AJS.drag_obj.mouse_pos=AJS.getMousePos(a),AJS.drag_obj.click_elm_pos=AJS.absolutePosition(b),AJS.AEV(document,"mousemove",AJS._dragMove,!1,!0),AJS.AEV(document,"mouseup",AJS._dragStop,!1,!0),AJS.isIe()&&(window.event.cancelBubble=!0),AJS.preventDefault(a)},_initDragElm:function(a){if(AJS.drag_elm&&"none"==AJS.drag_elm.style.display&&AJS.removeElement(AJS.drag_elm),!AJS.drag_elm){AJS.drag_elm=AJS.DIV();var b=AJS.drag_elm;AJS.insertBefore(b,AJS.getBody().firstChild),AJS.setHTML(b,a.innerHTML),b.className=a.className,b.style.cssText=a.style.cssText,b.style.position="absolute",b.style.zIndex=1e4;var c=AJS.absolutePosition(a);AJS.setTop(b,c.y),AJS.setLeft(b,c.x),AJS.drag_obj.args.on_init&&AJS.drag_obj.args.on_init(a)}},_dragMove:function(a){var b=AJS.drag_obj,c=b.click_elm;AJS._initDragElm(c);var d=AJS.drag_elm;b.args.hide_on_move&&(c.style.visibility="hidden");var e,f,g=AJS.getMousePos(a),h=b.mouse_pos,i=b.click_elm_pos;e=g.x-(h.x-i.x),f=g.y-(h.y-i.y),AJS.map(AJS._drop_zones,function(a){if(AJS.isOverlapping(a.elm,d)&&a.elm!=d){var b=a.on_hover;b&&b(a.elm,c,d)}}),b.args.on_drag&&b.args.on_drag(c,a);var j=b.args.max_move.top,k=b.args.max_move.left;b.args.move_x&&(null==k||p>=k)&&AJS.setLeft(elm,e),b.args.move_y&&(null==j||f>=j)&&AJS.setTop(elm,f),AJS.isIe()?(window.event.cancelBubble=!0,window.event.returnValue=!1):a.preventDefault();var l=AJS.getScrollTop(),m=l+AJS.getWindowSize().h,n=AJS.absolutePosition(d).y,o=d.offsetTop+d.offsetHeight;l+20>=n?window.scrollBy(0,-15):o>=m-20&&window.scrollBy(0,15)},_dragStop:function(a){var b=AJS.drag_obj,c=AJS.drag_elm,d=b.click_elm;AJS.REV(document,"mousemove",AJS._dragMove,!0),AJS.REV(document,"mouseup",AJS._dragStop,!0);var e=!1;if(AJS.map(AJS._drop_zones,function(a){if(AJS.isOverlapping(a.elm,d)&&a.elm!=d){var b=a.on_drop;b&&(e=!0,b(a.elm,d))}}),b.args.moveable){var f=parseInt(d.style.top)||0,g=parseInt(d.style.left)||0,h=AJS.absolutePosition(c),i=AJS.absolutePosition(d);AJS.setTop(d,f+h.y-i.y),AJS.setLeft(d,g+h.x-i.x)}!e&&b.args.on_mouse_up&&b.args.on_mouse_up(d,a),b.args.hide_on_move&&(b.click_elm.style.visibility="visible"),b.args.on_end&&b.args.on_end(d),AJS._dragObj=null,c&&AJS.hideElement(c),AJS.drag_elm=null},keys:function(a){var b=[];for(var c in a)b.push(c);return b},values:function(a){var b=[];for(var c in a)b.push(a[c]);return b},urlencode:function(a){return encodeURIComponent(a.toString())},isDefined:function(a){return"undefined"!=a&&null!=a},isArray:function(a){return a instanceof Array},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isObject:function(a){return"object"==typeof a},isFunction:function(a){return"function"==typeof a},isDict:function(a){var b=String(a);return-1!=b.indexOf(" Object")},exportToGlobalScope:function(){for(e in AJS)window[e]=AJS[e]},log:function(a){if(window.console)console.log(a);else{var b=AJS.$("ajs_logger");b||(b=AJS.DIV({id:"ajs_logger",style:"color: green; position: absolute; left: 0"}),b.style.top=AJS.getScrollTop()+"px",AJS.ACN(AJS.getBody(),b)),AJS.setHTML(b,""+a)}}};AJS.Class=function(a){var b=function(){return"no_init"!=arguments[0]?this.init.apply(this,arguments):void 0};return b.prototype=a,AJS.update(b,AJS.Class.prototype),b},AJS.Class.prototype={extend:function(a){var b=new this("no_init");for(k in a){var c=b[k],d=a[k];c&&c!=d&&"function"==typeof d&&(d=this._parentize(d,c)),b[k]=d}return new AJS.Class(b)},implement:function(a){AJS.update(this.prototype,a)},_parentize:function(a,b){return function(){return this.parent=b,a.apply(this,arguments)}}},AJS.$=AJS.getElement,AJS.$$=AJS.getElements,AJS.$f=AJS.getFormElement,AJS.$b=AJS.bind,AJS.$p=AJS.partial,AJS.$FA=AJS.forceArray,AJS.$A=AJS.createArray,AJS.DI=AJS.documentInsert,AJS.ACN=AJS.appendChildNodes,AJS.RCN=AJS.replaceChildNodes,AJS.AEV=AJS.addEventListener,AJS.REV=AJS.removeEventListener,AJS.$bytc=AJS.getElementsByTagAndClassName,AJSDeferred=function(a){this.callbacks=[],this.errbacks=[],this.req=a},AJSDeferred.prototype={excCallbackSeq:function(a,b){for(var c=a.responseText;b.length>0;){var d=b.pop(),e=d(c,a);e&&(c=e)}},callback:function(){this.excCallbackSeq(this.req,this.callbacks)},errback:function(){0==this.errbacks.length&&alert("Error encountered:\n"+this.req.responseText),this.excCallbackSeq(this.req,this.errbacks)},addErrback:function(a){this.errbacks.unshift(a)},addCallback:function(a){this.callbacks.unshift(a)},abort:function(){this.req.abort()},addCallbacks:function(a,b){this.addCallback(a),this.addErrback(b)},sendReq:function(a){this.req.send(AJS.isObject(a)?AJS.queryArguments(a):AJS.isDefined(a)?a:"")}},AJS.addEventListener(window,"unload",AJS._unloadListeners),AJS._createDomShortcuts()}script_loaded=!0,GoogieSpellMultiple.prototype.getState=function(){return this.state},GoogieSpellMultiple.prototype.noMoreErrorsCallback=function(a){this.no_more_errors_callback=a},GoogieSpellMultiple.prototype.noErrorsFound=function(){return null!=this.cnt_no_errors&&this.cnt_no_errors==this.g_elms.length},GoogieSpellMultiple.prototype.isReqDone=function(){return null==this.cnt_done_checking||this.cnt_done_checking==this.g_elms.length},GoogieSpellMultiple.prototype.isSpellChecking=function(){return"checking_spell"==this.state},GoogieSpellMultiple.prototype.setDependent=function(){this.dependent=!0},GoogieSpellMultiple.prototype.setCustomAjaxError=function(a){this.custom_ajax_error=a},GoogieSpellMultiple.prototype.setElementEvaulator=function(a){this.elm_evaluator=a},GoogieSpellMultiple.prototype.setSpellContainer=function(a){this.spell_container=AJS.getElement(a)},GoogieSpellMultiple.prototype.useCloseButtons=function(){this.use_close_btn=!0},GoogieSpellMultiple.prototype.setGetValue=function(a){this.getValue=a},GoogieSpellMultiple.prototype.setSetValue=function(a){this.setValue=a},GoogieSpellMultiple.prototype.appendNewMenuItem=function(a,b,c){this.extra_menu_items.push([a,b,c])},GoogieSpellMultiple.prototype.countNoErrorsUp=function(){this.cnt_no_errors?this.cnt_no_errors++:this.cnt_no_errors=1},GoogieSpellMultiple.prototype.countSpellCheckingFinished=function(){this.cnt_done_checking?this.cnt_done_checking++:this.cnt_done_checking=1},GoogieSpellMultiple.prototype.resetCounters=function(){this.cnt_done_checking=null,this.cnt_no_errors=null,this.cnt_ta_spellchecked=0},GoogieSpellMultiple.prototype.spellCheckObserver=function(a){if("checking_spell"==a){this.resetCounters(),this.cnt_done_checking=0,this.state="checking_spell";for(var b=0;b<this.g_elms.length;b++){var c=this.g_elms[b];"spell_check"==c.state&&(c.setReportStateChange(!1),c.spellCheck(!this.elm_evaluator(c)),c.setReportStateChange(!0))}}else if("spell_check"==a){this.state="spell_check";for(var b=0;b<this.g_elms.length;b++){var c=this.g_elms[b];null!=c.spell_span&&"spell_check"!=c.state&&"no_error_found"!=c.state&&"checking_spell"!=c.state&&(c.setReportStateChange(!1),c.resumeEditing(),c.setReportStateChange(!0))}}else if("resume_editing"==a){this.state="resume_editing",this.countSpellCheckingFinished(),this.spellcheckingFinished();var c=this.g_elms[0];c.setReportStateChange(!1),c.resumeEditingState(),c.setReportStateChange(!0)}},GoogieSpellMultiple.prototype.spellcheckingFinished=function(){if(this.cnt_done_checking==this.g_elms.length)for(var a=0;a<this.g_elms.length;a++){var b=this.g_elms[a];if(b.setFocus())break}},GoogieSpellMultiple.prototype.spellCheckState=function(){for(var a=0;a<this.g_elms.length;a++){var b=this.g_elms[a];b.setReportStateChange(!1),b.resumeEditing(),b.setReportStateChange(!0)}},GoogieSpellMultiple.prototype.showMenuObserver=function(a,b){for(var c=0;c<a.g_elms.length;c++){var d=a.g_elms[c];d!=b&&(d.hideLangWindow(),d.hideErrorWindow())}},GoogieSpellMultiple.prototype.ignore=function(a,b){AJS.swapDOM(a,AJS.TN(a.innerHTML)),a.is_corrected||b.errorFixed(),a.is_corrected=!0},GoogieSpellMultiple.prototype.ignoreAll=function(a){for(var b=0;b<this.g_elms.length;b++)for(var c=this.g_elms[b],d=0;d<c.error_links.length;d++){var e=c.error_links[d];if(e.innerHTML==a.innerHTML){try{AJS.swapDOM(e,AJS.TN(e.innerHTML))}catch(f){}0==e.is_corrected&&(c.errorFixed(),e.is_corrected=!0)}}},GoogieSpellMultiple.prototype._taSpellChecked=function(){this.cnt_ta_spellchecked++,this.no_more_errors_callback&&this.cnt_ta_spellchecked+this.cnt_no_errors==this.g_elms.length&&this.no_more_errors_callback()},GoogieSpellMultiple.prototype.decorateTextareas=function(){for(var a=this,b=0;b<arguments.length;b++){var c=AJS.$(arguments[b]);if(null!=c){var d=new GoogieSpell(this.img_dir,this.server_url);d.use_focus=!0,0!=this.g_elms.length&&(d.main_controller=!1),d.edit_layer_dbl_click=!1,d.report_ta_not_found=!0,this.dependent&&(d.spelling_state_observer=function(b,c){a.spellCheckObserver(b,c)},d.custom_no_spelling_error=function(b){b.state="spell_check",a.countNoErrorsUp(),a.cnt_no_errors==a.g_elms.length&&a.g_elms[0].flashNoSpellingErrorState(AJS.$b(a.spellCheckState,a)),a.countSpellCheckingFinished(),a.spellcheckingFinished()}),this.custom_ajax_error&&(d.custom_ajax_error=this.custom_ajax_error),d.show_menu_observer=function(b){a.showMenuObserver(a,b)};var e=function(a){return"true"==a.attrs.duplicate?!0:!1},f=function(b,c,d){var e=function(){b.correctError(d.g_id,d,{innerHTML:""},!0)};AJS.ACN(c,b.createButton("Remove duplicate","",e)),AJS.ACN(c,b.createListSeparator());for(var f=0;f<a.extra_menu_items.length;f++){var g=a.extra_menu_items[f];(!g[2]||g[2](d,b))&&AJS.ACN(c,b.createButton(g[0],"",AJS.$p(g[1],d,b)))}return AJS.ACN(c,b.createCloseButton(b.hideErrorWindow)),!0},g=function(a,b){var c=a.results[b.g_id];1==c.attrs.autoChange&&a.correctError(b.g_id,b,{innerHTML:c.suggestions[0]},!1)};d.custom_item_evaulator=g,d.appendCustomMenuBuilder(e,f),this.spell_container&&(d.setDecoration(!1),d.setSpellContainer(this.spell_container),d.custom_spellcheck_starter=function(){a.spellCheckObserver("checking_spell")});var h=function(){a._taSpellChecked()};d.all_errors_fixed_observer=h,d.extra_menu_items=this.extra_menu_items,d.use_close_btn=this.use_close_btn,d.getValue=this.getValue,d.setValue=this.setValue,d.decorateTextarea(c),this.g_elms.push(d)}}this.state="spell_check"};var GOOGIE_CUR_LANG=null,GOOGIE_DEFAULT_LANG="es";GoogieSpell.prototype.getDefaultLang=function(){var a;a=getCookie("language"),GOOGIE_CUR_LANG=null!=a?a:GOOGIE_DEFAULT_LANG,GOOGIE_CUR_LANG=this.options.lang||GOOGIE_CUR_LANG},GoogieSpell.prototype.defaultOptions=function(a){return{lang:a.lang||GOOGIE_DEFAULT_LANG,img_dir:a.img_dir||"/images/",server_url:(a.server_url||"/spell")+"?lang=",org_lang_to_word:a.org_lang_to_word||{en:"English",es:"Espa&#241;ol"},show_change_lang_pic:a.show_change_lang_pic||!1,show_error_window:a.show_error_window||!1,change_lang_pic_placement:a.change_lang_pic_placement||"left",report_state_change:a.report_state_change||!0,lang_chck_spell:a.lang_chck_spell||"ORTOGRAFÍA",lang_revert:a.lang_revert||"Cambiar a",lang_close:a.lang_close||"Cerrar",lang_rsm_edt:a.lang_rsm_edt||"Continuar editando",lang_no_error_found:a.lang_no_error_found||"No hay errores de ortografía",lang_no_suggestions:a.lang_no_suggestions||"No hay sugerencias",show_spell_img:a.show_spell_img||!1,decoration:a.decoration||!1,use_close_btn:a.use_close_btn||!1,edit_layer_dbl_click:a.edit_layer_dbl_click||!0,report_ta_not_found:a.report_ta_not_found||!0,spelling_state_observer:a.observer||null}},GoogieSpell.prototype.decorateTextarea=function(a,b){this.text_area="string"==typeof a?AJS.$(a):a,b&&(this.parent_element="string"==typeof b?AJS.$(b):b);var c,d;if(null!=this.text_area){if(!AJS.isDefined(this.spell_container)&&this.options.decoration){var e=AJS.TABLE(),f=AJS.TBODY(),g=AJS.TR();c=AJS.isDefined(this.force_width)?this.force_width:this.text_area.offsetWidth+"px",d=AJS.isDefined(this.force_height)?this.force_height:"";var h=AJS.TD();this.spell_container=h,g.appendChild(h),f.appendChild(g),e.appendChild(f),AJS.insertAfter(e,this.parent_element||this.text_area),AJS.setHeight(e,h,d),AJS.setWidth(e,h,c),h.style.textAlign="left"}this.checkSpellingState()}else this.options.report_ta_not_found&&alert("Text area no encontrado")},GoogieSpell.prototype.setSpellContainer=function(a){this.spell_container=AJS.$(a)},GoogieSpell.prototype.setLanguages=function(a){this.lang_to_word=a,this.langlist_codes=AJS.keys(a)},GoogieSpell.prototype.setForceWidthHeight=function(a,b){this.force_width=a,this.force_height=b},GoogieSpell.prototype.setDecoration=function(a){this.options.decoration=a},GoogieSpell.prototype.dontUseCloseButtons=function(){this.options.use_close_btn=!1},GoogieSpell.prototype.appendNewMenuItem=function(a,b,c){this.extra_menu_items.push([a,b,c])},GoogieSpell.prototype.appendCustomMenuBuilder=function(a,b){this.custom_menu_builder.push([a,b])},GoogieSpell.prototype.setFocus=function(){try{return this.focus_link_b.focus(),this.focus_link_t.focus(),!0}catch(a){return!1}},GoogieSpell.prototype.getValue=function(a){return a.value},GoogieSpell.prototype.setValue=function(a,b){a.value=b},GoogieSpell.prototype.setStateChanged=function(a){this.state=a,null!=this.options.spelling_state_observer&&this.options.report_state_change&&this.options.spelling_state_observer(a,this)},GoogieSpell.prototype.setReportStateChange=function(a){this.options.report_state_change=a},GoogieSpell.prototype.getGoogleUrl=function(){return this.options.server_url+GOOGIE_CUR_LANG},GoogieSpell.escapeSepcial=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},GoogieSpell.createJSONReq=function(a){return{text:a}},GoogieSpell.createXMLReq=function(a){return'<?xml version="1.0" encoding="utf-8" ?><spellrequest textalreadyclipped="0" ignoredups="0" ignoredigits="1" ignoreallcaps="1"><text>'+a+"</text></spellrequest>"},GoogieSpell.prototype.spellCheck=function(a){var b=this,c=a&&a.ignore?a.ignore:null,d=a&&a.success?a.success:null,e=a&&a.error?a.error:null;this.cnt_errors_fixed=0,this.cnt_errors=0,this.setStateChanged("checking_spell"),this.main_controller&&this.appendIndicator(this.spell_span),this.error_links=[],this.ta_scroll_top=this.text_area.scrollTop;try{this.hideLangWindow()}catch(f){}if(this.ignore=c,""==this.getValue(this.text_area)||c)return b.custom_no_spelling_error?b.custom_no_spelling_error(b):b.flashNoSpellingErrorState(),void b.removeIndicator();this.createEditLayer(this.text_area.offsetWidth,this.text_area.offsetHeight),this.createErrorWindow(),AJS.getBody().appendChild(this.error_window);try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead")}catch(f){}this.main_controller&&(this.spell_span.onclick=null),this.orginal_text=this.getValue(this.text_area);var g=AJS.getRequest(this.getGoogleUrl()),h=function(a){var c=a;b.results=JSON.parse(c),b.results&&b.results.length>0?(e&&e(b.results),b.showErrorsInIframe(),b.resumeEditingState()):(d&&d(),b.custom_no_spelling_error?b.custom_no_spelling_error(b):b.flashNoSpellingErrorState()),b.removeIndicator()};g.addCallback(h),h=null;var i=function(a,c){b.custom_ajax_error?b.custom_ajax_error(c):alert("Ocurrió un error al revisar la ortografía. Por favor intente nuevamente."),b.main_controller&&(AJS.removeElement(b.spell_span),b.removeIndicator()),b.checkSpellingState()
};g.addErrback(i),i=null;var j=GoogieSpell.escapeSepcial(this.orginal_text);g.sendReq(GoogieSpell.createJSONReq(j))},GoogieSpell.prototype.parseResult=function(a){console.log(a);var b=/\w+="(\d+|true)"/g,c=/\t/g,d=a.match(/<c[^>]*>[^<]*<\/c>/g),e=new Array;if(null==d)return e;for(var f=0;f<d.length;f++){var g=new Array;this.errorFound(),g.attrs=new Array;for(var h=d[f].match(b),i=0;i<h.length;i++){var j=h[i].split(/=/),k=j[1].replace(/"/g,"");g.attrs[j[0]]="true"!=k?parseInt(k):k}g.suggestions=new Array;for(var l=d[f].replace(/<[^>]*>/g,""),m=l.split(c),n=0;n<m.length;n++)""!=m[n]&&g.suggestions.push(m[n]);e.push(g)}return console.log(e),e},GoogieSpell.prototype.errorFixed=function(){this.cnt_errors_fixed++,this.all_errors_fixed_observer&&this.cnt_errors_fixed==this.cnt_errors&&(this.hideErrorWindow(),this.all_errors_fixed_observer())},GoogieSpell.prototype.errorFound=function(){this.cnt_errors++},GoogieSpell.prototype.createErrorWindow=function(){this.error_window=AJS.DIV(),this.error_window.className="googie_window",this.error_window.googie_action_btn="1"},GoogieSpell.prototype.isErrorWindowShown=function(){return null!=this.error_window&&"visible"==this.error_window.style.visibility},GoogieSpell.prototype.hideErrorWindow=function(){try{this.error_window.style.visibility="hidden",this.error_window_iframe&&(this.error_window_iframe.style.visibility="hidden")}catch(a){}},GoogieSpell.prototype.updateOrginalText=function(a,b,c,d){var e=this.orginal_text.substring(0,a),f=this.orginal_text.substring(a+b.length);this.orginal_text=e+c+f,this.setValue(this.text_area,this.orginal_text);for(var g=c.length-b.length,h=0;h<this.results.length;h++)h!=d&&h>d&&(this.results[h].attrs.o+=g)},GoogieSpell.prototype.saveOldValue=function(a,b){a.is_changed=!0,a.old_value=b},GoogieSpell.prototype.createListSeparator=function(){var a=AJS.TD(" ");return a.googie_action_btn="1",a.style.cursor="default",a.style.fontSize="3px",a.style.borderTop="1px solid #ccc",a.style.paddingTop="5px",AJS.TR(a)},GoogieSpell.prototype.correctError=function(a,b,c,d){var e=b.innerHTML,f=c.innerHTML,g=this.results[a].attrs.o;if(d){var h=b.previousSibling.innerHTML;b.previousSibling.innerHTML=h.slice(0,h.length-1),e=" "+e,g--}this.hideErrorWindow(),this.updateOrginalText(g,e,f,a),b.innerHTML=f,b.style.color="green",b.is_corrected=!0,this.results[a].attrs.l=f.length,AJS.isDefined(b.old_value)||this.saveOldValue(b,e),this.errorFixed()},GoogieSpell.prototype.showErrorWindow=function(a,b){this.show_menu_observer&&this.show_menu_observer(this);var c=this,d=AJS.absolutePosition(a);d.y-=this.edit_layer.scrollTop,this.error_window.style.visibility="visible",AJS.setTop(this.error_window,d.y+20),AJS.setLeft(this.error_window,d.x),this.error_window.innerHTML="";var e=AJS.TABLE({"class":"googie_list"});e.googie_action_btn="1";var f=AJS.TBODY(),g=!1;if(this.custom_menu_builder!=[])for(var h=0;h<this.custom_menu_builder.length;h++){var j=this.custom_menu_builder[h];if(j[0](this.results[b])){g=j[1](this,f,a);break}}if(!g){{var k=this.results[b].suggestions,l=this.results[b].attrs.o;this.results[b].attrs.l}if(0==k.length){var m=AJS.TR(),n=AJS.TD({style:"cursor: default;"}),o=AJS.SPAN();o.innerHTML=this.options.lang_no_suggestions,AJS.ACN(n,AJS.TN(o.innerHTML)),n.googie_action_btn="1",m.appendChild(n),f.appendChild(m)}for(i=0;i<k.length;i++){var m=AJS.TR(),n=AJS.TD(),o=AJS.SPAN();o.innerHTML=k[i],n.appendChild(AJS.TN(o.innerHTML));var p=function(c){var d=AJS.getEventElm(c);this.correctError(b,a,d)};AJS.AEV(n,"click",AJS.$b(p,this)),n.onmouseover=GoogieSpell.item_onmouseover,n.onmouseout=GoogieSpell.item_onmouseout,m.appendChild(n),f.appendChild(m)}if(a.is_changed&&a.innerHTML!=a.old_value){var q=a.old_value,r=AJS.TR(),s=AJS.TD();s.onmouseover=GoogieSpell.item_onmouseover,s.onmouseout=GoogieSpell.item_onmouseout;var t=AJS.SPAN({"class":"googie_list_revert"});t.innerHTML=this.options.lang_revert+" "+q,s.appendChild(t);var p=function(){this.updateOrginalText(l,a.innerHTML,q,b),a.is_corrected=!0,a.style.color="#b91414",a.innerHTML=q,this.hideErrorWindow()};AJS.AEV(s,"click",AJS.$b(p,this)),r.appendChild(s),f.appendChild(r)}var u=AJS.TR(),v=AJS.TD({style:"cursor: default"}),w=AJS.INPUT({"class":"input",type:"text",style:"padding-right:50px",value:a.innerHTML});w.googie_action_btn="1";var x=function(){return""!=w.value&&(AJS.isDefined(a.old_value)||this.saveOldValue(a,a.innerHTML),this.updateOrginalText(l,a.innerHTML,w.value,b),a.style.color="green",a.is_corrected=!0,a.innerHTML=w.value,this.hideErrorWindow()),!1},y=AJS.SPAN({"class":"btn btn-warning btn-small right",style:"margin-top: -29px; margin-right: 5px;"},AJS.I({"class":"fa fa-check"}),"Ok"),z=AJS.FORM({style:"margin: 0; padding: 0; cursor: default;"},w,y);z.googie_action_btn="1",v.googie_action_btn="1",AJS.AEV(z,"submit",x),AJS.AEV(y,"click",x),v.appendChild(z),u.appendChild(v),f.appendChild(u),this.extra_menu_items.length>0&&AJS.ACN(f,this.createListSeparator());var A=function(b){if(b<c.extra_menu_items.length){var d=c.extra_menu_items[b];if(!d[2]||d[2](a,c)){var e=AJS.TR(),g=AJS.TD(d[0]);g.onmouseover=GoogieSpell.item_onmouseover,g.onmouseout=GoogieSpell.item_onmouseout;var h=function(){return d[1](a,c)};AJS.AEV(g,"click",h),AJS.ACN(e,g),AJS.ACN(f,e)}A(b+1)}};A(0),A=null,this.options.use_close_btn&&AJS.ACN(f,this.createCloseButton(this.hideErrorWindow))}if(e.appendChild(f),this.error_window.appendChild(e),AJS.isIe()&&!this.error_window_iframe){var B=AJS.IFRAME({style:"position: fixed; z-index: 0;"});AJS.ACN(AJS.getBody(),B),this.error_window_iframe=B}if(AJS.isIe()){var B=this.error_window_iframe;AJS.setTop(B,this.error_window.offsetTop),AJS.setLeft(B,this.error_window.offsetLeft),AJS.setWidth(B,this.error_window.offsetWidth),AJS.setHeight(B,this.error_window.offsetHeight),B.style.visibility="visible"}},GoogieSpell.prototype.createEditLayer=function(a,b){if(this.edit_layer=AJS.DIV({"class":"googie_edit_layer"}),this.edit_layer.className=this.text_area.className,this.edit_layer.style.border="1px solid #8B8B8B",this.edit_layer.style.backgroundColor="#FFFCD7",this.edit_layer.style.padding="7px 1%",this.edit_layer.style.margin="0px",AJS.setWidth(this.edit_layer,"100%"),"input"!=AJS.nodeName(this.text_area)||""==this.getValue(this.text_area)?(this.edit_layer.style.overflow="auto",AJS.setHeight(this.edit_layer,b)):this.edit_layer.style.overflow="hidden",this.options.edit_layer_dbl_click){var c=this,d=function(a){if("googie_link"!=AJS.getEventElm(a).className&&!c.isErrorWindowShown()){c.resumeEditing();var b=function(){c.text_area.focus(),b=null};AJS.callLater(b,10)}return!1};this.edit_layer.ondblclick=d,d=null}},GoogieSpell.prototype.resumeEditing=function(){if(this.setStateChanged("spell_check"),this.switch_lan_pic.style.display="inline",this.edit_layer&&(this.el_scroll_top=this.edit_layer.scrollTop),this.hideErrorWindow(),this.main_controller&&(this.spell_span.className="googie_no_style"),!this.ignore){try{this.edit_layer.parentNode.removeChild(this.edit_layer),this.use_focus&&(AJS.removeElement(this.focus_link_t),AJS.removeElement(this.focus_link_b))}catch(a){}AJS.showElement(this.text_area),void 0!=this.el_scroll_top&&(this.text_area.scrollTop=this.el_scroll_top)}this.checkSpellingState(!1)},GoogieSpell.prototype.createErrorLink=function(a,b){var c=AJS.SPAN({"class":"googie_link"}),d=this,e=function(){return d.showErrorWindow(c,b),e=null,!1};return AJS.AEV(c,"click",e),c.googie_action_btn="1",c.g_id=b,c.is_corrected=!1,c.oncontextmenu=e,c.innerHTML=a,c},GoogieSpell.createPart=function(a){if(" "==a)return AJS.TN(" ");var b=(AJS.SPAN(),-1!=navigator.userAgent.toLowerCase().indexOf("safari"),AJS.SPAN());return a=GoogieSpell.escapeSepcial(a),a=a.replace(/\n/g,"<br>"),a=a.replace(/    /g," &nbsp;"),a=a.replace(/^ /g,"&nbsp;"),a=a.replace(/ $/g,"&nbsp;"),b.innerHTML=a,b},GoogieSpell.prototype.showErrorsInIframe=function(){var a=AJS.DIV();a.style.textAlign="left";var b=0,c=this.results;if(c.length>0){for(var d=0;d<c.length;d++){var e=c[d].attrs.o,f=c[d].attrs.l,g=this.orginal_text.substring(b,e),h=GoogieSpell.createPart(g);a.appendChild(h),b+=e-b;var i=this.createErrorLink(this.orginal_text.substr(e,f),d);this.error_links.push(i),a.appendChild(i),b+=f}var j=this.orginal_text.substr(b,this.orginal_text.length),k=GoogieSpell.createPart(j);a.appendChild(k)}else a.innerHTML=this.orginal_text;var l=this;this.custom_item_evaulator&&AJS.map(this.error_links,function(a){l.custom_item_evaulator(l,a)}),AJS.ACN(this.edit_layer,a),this.text_area_bottom=this.text_area.offsetTop+this.text_area.offsetHeight,AJS.hideElement(this.text_area),AJS.insertBefore(this.edit_layer,this.text_area),this.use_focus&&(this.focus_link_t=this.createFocusLink("focus_t"),this.focus_link_b=this.createFocusLink("focus_b"),AJS.insertBefore(this.focus_link_t,this.edit_layer),AJS.insertAfter(this.focus_link_b,this.edit_layer)),this.edit_layer.scrollTop=this.ta_scroll_top},GoogieSpell.prototype.createLangWindow=function(){this.language_window=AJS.DIV({"class":"googie_window"}),AJS.setWidth(this.language_window,100),this.language_window.googie_action_btn="1";var a=AJS.TABLE({"class":"googie_list"});AJS.setWidth(a,"100%");var b=AJS.TBODY();for(this.lang_elms=new Array,i=0;i<this.langlist_codes.length;i++){var c=AJS.TR(),d=AJS.TD();d.googieId=this.langlist_codes[i],this.lang_elms.push(d);var e=AJS.SPAN();e.innerHTML=this.lang_to_word[this.langlist_codes[i]],d.appendChild(AJS.TN(e.innerHTML));var f=function(a){var b=AJS.getEventElm(a);this.deHighlightCurSel(),this.setCurrentLanguage(b.googieId),null!=this.lang_state_observer&&this.lang_state_observer(),this.highlightCurSel(),this.hideLangWindow()};AJS.AEV(d,"click",AJS.$b(f,this)),d.onmouseover=function(a){var b=AJS.getEventElm(a);"googie_list_selected"!=b.className&&(b.className="googie_list_onhover")},d.onmouseout=function(a){var b=AJS.getEventElm(a);"googie_list_selected"!=b.className&&(b.className="googie_list_onout")},c.appendChild(d),b.appendChild(c)}this.options.use_close_btn&&b.appendChild(this.createCloseButton(this.hideLangWindow)),this.highlightCurSel(),a.appendChild(b),this.language_window.appendChild(a)},GoogieSpell.prototype.setCurrentLanguage=function(a){GOOGIE_CUR_LANG=a;var b=new Date;b.setTime(b.getTime()+31536e6),setCookie("language",a,b)},GoogieSpell.prototype.isLangWindowShown=function(){return null!=this.language_window&&"inline"==this.language_window.style.display},GoogieSpell.prototype.hideLangWindow=function(){try{this.language_window.style.display="none",this.switch_lan_pic.className="googie_lang_3d_on"}catch(a){}},GoogieSpell.prototype.deHighlightCurSel=function(){this.lang_cur_elm.className="googie_list_onout"},GoogieSpell.prototype.highlightCurSel=function(){null==GOOGIE_CUR_LANG&&(GOOGIE_CUR_LANG=GOOGIE_DEFAULT_LANG);for(var a=0;a<this.lang_elms.length;a++)this.lang_elms[a].googieId==GOOGIE_CUR_LANG?(this.lang_elms[a].className="googie_list_selected",this.lang_cur_elm=this.lang_elms[a]):this.lang_elms[a].className="googie_list_onout"},GoogieSpell.prototype.showLangWindow=function(a,b,c){this.show_menu_observer&&this.show_menu_observer(this),AJS.isDefined(b)||(b=20),AJS.isDefined(c)||(c=100),this.createLangWindow(),AJS.getBody().appendChild(this.language_window);var d=AJS.absolutePosition(a);AJS.showElement(this.language_window),AJS.setTop(this.language_window,d.y+b),AJS.setLeft(this.language_window,d.x+c-this.language_window.offsetWidth),this.highlightCurSel(),this.language_window.style.display="inline"},GoogieSpell.prototype.createChangeLangPic=function(){var a=AJS.IMG({src:this.options.img_dir+"change_lang.gif",alt:"Change language"});a.googie_action_btn="1";var b=AJS.SPAN({"class":"googie_lang_3d_on",style:"padding-left: 6px;"},a),c=function(a){var c=AJS.getEventElm(a);"img"==AJS.nodeName(c)&&(c=c.parentNode),"googie_lang_3d_click"==c.className?(c.className="googie_lang_3d_on",this.hideLangWindow()):(c.className="googie_lang_3d_click",this.showLangWindow(b))};return AJS.AEV(b,"click",AJS.$b(c,this)),b},GoogieSpell.prototype.createSpellDiv=function(){var a=AJS.SPAN({"class":"googie_check_spelling_link"});a.innerHTML=this.options.lang_chck_spell;var b=null;return this.options.show_spell_img&&(b=AJS.IMG({src:this.options.img_dir+"spellc.gif"})),AJS.SPAN(b," ",a)},GoogieSpell.prototype.flashNoSpellingErrorState=function(a){var b;if(a){var c=function(){a(),this.checkSpellingState()};b=c}else b=this.checkSpellingState;if(this.setStateChanged("no_error_found"),this.main_controller){AJS.hideElement(this.switch_lan_pic);var d=AJS.IMG({src:this.options.img_dir+"blank.gif",style:"height: 16px; width: 1px;"}),e=AJS.SPAN();e.innerHTML=this.options.lang_no_error_found,AJS.RCN(this.spell_span,AJS.SPAN(d,e)),this.spell_span.className="googie_check_spelling_ok",this.spell_span.style.textDecoration="none",this.spell_span.style.cursor="default",AJS.callLater(AJS.$b(b,this),1200,[!1])}},GoogieSpell.prototype.resumeEditingState=function(){if(this.setStateChanged("resume_editing"),this.main_controller){AJS.hideElement(this.switch_lan_pic);var a=AJS.IMG({src:this.options.img_dir+"blank.gif",style:"height: 16px; width: 1px;"}),b=AJS.SPAN();b.innerHTML=this.options.lang_rsm_edt,AJS.RCN(this.spell_span,AJS.SPAN(a,b));var c=function(){this.resumeEditing()};this.spell_span.onclick=AJS.$b(c,this),this.spell_span.className="googie_resume_editing"}try{this.edit_layer.scrollTop=this.ta_scroll_top}catch(d){}},GoogieSpell.prototype.checkSpellingState=function(a){(!AJS.isDefined(a)||a)&&this.setStateChanged("spell_check"),this.options.show_change_lang_pic?this.options.switch_lan_pic=this.createChangeLangPic():this.switch_lan_pic=AJS.SPAN();var b=this.createSpellDiv(),c=function(){this.spellCheck()};b.onclick=this.custom_spellcheck_starter?this.custom_spellcheck_starter:AJS.$b(c,this),this.spell_span=b,this.main_controller&&("left"==this.options.change_lang_pic_placement?AJS.RCN(this.spell_container,b," ",this.switch_lan_pic):AJS.RCN(this.spell_container,this.switch_lan_pic," ",b))},GoogieSpell.item_onmouseover=function(a){var b=AJS.getEventElm(a);"googie_list_revert"!=b.className&&"googie_list_close"!=b.className?b.className="googie_list_onhover":b.parentNode.className="googie_list_onhover"},GoogieSpell.item_onmouseout=function(a){var b=AJS.getEventElm(a);"googie_list_revert"!=b.className&&"googie_list_close"!=b.className?b.className="googie_list_onout":b.parentNode.className="googie_list_onout"},GoogieSpell.prototype.createCloseButton=function(a){return this.createButton(this.options.lang_close,"googie_list_close",AJS.$b(a,this))},GoogieSpell.prototype.createButton=function(a,b,c){var d=AJS.TR(),e=AJS.TD();e.onmouseover=GoogieSpell.item_onmouseover,e.onmouseout=GoogieSpell.item_onmouseout;var f;return""!=b?(f=AJS.SPAN({"class":b}),f.innerHTML=a):f=AJS.TN(a),e.appendChild(f),AJS.AEV(e,"click",c),d.appendChild(e),d},GoogieSpell.prototype.removeIndicator=function(){try{AJS.removeElement(this.indicator)}catch(a){}},GoogieSpell.prototype.appendIndicator=function(a){var b=AJS.IMG({src:this.options.img_dir+"indicator.gif",style:"margin-right: 5px;"});AJS.setWidth(b,16),AJS.setHeight(b,16),this.indicator=b,b.style.textDecoration="none";try{AJS.insertBefore(b,a)}catch(c){}},GoogieSpell.prototype.createFocusLink=function(a){return AJS.A({href:"javascript:;",name:a})};